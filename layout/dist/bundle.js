(()=>{"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}const n=function(t){var e=t.querySelector(".tabs-nav"),n=t.querySelector(".tabs-content");e.addEventListener("click",(function(e){e.preventDefault();var o=e.target;if("BUTTON"===o.tagName&&!o.classList.contains("nav-arrow")){var i=o.dataset.tab;t.querySelector(".tabs-nav .active").classList.remove("active"),n.querySelector(".active").classList.remove("active"),e.target.classList.add("active"),n.querySelector('[data-tab="'.concat(i,'"]')).classList.add("active"),o.classList.contains("popup-repair-types-nav__item")&&(document.getElementById("switch-inner").textContent=o.textContent)}}))};function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}const r=function(t,e){var n=0,i=t.getElementsByClassName("slide"),r=function(e){o(i).forEach((function(t,e){t.classList.contains("active-slider")&&(t.classList.remove("active-slider"),n=e)})),(n+=e)===o(i).length?n=0:n<0&&(n=o(i).length-1),i[n].classList.add("active-slider"),t.querySelector(".slider-counter-content__current").textContent=n+1};i[0].classList.add("active-slider"),t.innerHTML+=void 0!==e?e:'\n            <div class="slider-counter slider-counter-repair slider-counter-responsive">\n                <div class="slider-counter-content">\n                    <div class="slider-counter-content__current"></div>\n                    <div class="slider-counter-content__total"></div>\n                </div>\n            </div>\n            <div class="slider-arrow slider-arrow_left">\n                <svg width="18" height="12" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 12"\n                    preserveAspectRatio="xMinYMin meet">\n                    <path\n                            d="M.97 5.47a.75.75 0 0 0 0 1.06l4.773 4.773a.75.75 0 1 0 1.06-1.06L2.561 6l4.242-4.243a.75.75 0 0 0-1.06-1.06L.97 5.47zm16.53-.22h-16v1.5h16v-1.5z"\n                            fill="#322823"></path>\n                </svg>\n            </div>\n            <div class="slider-arrow slider-arrow_right">\n                <svg width="17" height="12" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 12"\n                    preserveAspectRatio="xMinYMin meet">\n                    <path\n                            d="M16.03 5.47a.75.75 0 0 1 0 1.06l-4.773 4.773a.75.75 0 0 1-1.06-1.06L14.439 6l-4.242-4.243a.75.75 0 1 1 1.06-1.06L16.03 5.47zM.5 5.25h15v1.5H.5v-1.5z"\n                            fill="#322823"></path>\n                </svg>\n            </div>\n        ',t.querySelector(".slider-counter-content__current").textContent=n+1,t.querySelector(".slider-counter-content__total").textContent=i.length,t.addEventListener("click",(function(t){var e=t.target;(e.classList.contains("slider-arrow_left")||e.closest(".slider-arrow_left"))&&r(-1),(e.classList.contains("slider-arrow_right")||e.closest(".slider-arrow_right"))&&r(1)}))};function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw r}}}}function a(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const d=function(){function t(e){var n=e.main,o=e.wrap,i=e.position,r=void 0===i?0:i,s=e.next,a=e.prev,l=e.slidesToShow,c=void 0===l?3:l,d=e.infinity,p=void 0!==d&&d,u=e.responsive,h=void 0===u?[]:u,v=e.buttonVueSecond,f=void 0!==v&&v;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n&&o||console.warn('slider-carousel: Необходимо два свойства, "main" и "wrap"'),this.main=document.querySelector(n),this.wrap=document.querySelector(o),this.slides=document.querySelector(o).children,this.next=document.querySelector(s),this.prev=document.querySelector(a),this.slidesToShow=c,this.buttonVueSecond=f,this.options={position:r,infinity:p,widthSlide:Math.floor(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow},this.responsive=h}var e,n;return e=t,(n=[{key:"init",value:function(){this.addCarouselClass(),this.addStyle(),this.checkArrow(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}},{key:"addCarouselClass",value:function(){this.main.classList.add("carousel"),this.wrap.classList.add("carousel__wrap");var t,e=s(this.slides);try{for(e.s();!(t=e.n()).done;)t.value.classList.add("carousel__item")}catch(t){e.e(t)}finally{e.f()}}},{key:"addStyle",value:function(){var t,e=s(this.slides);try{for(e.s();!(t=e.n()).done;)t.value.style.cssText="flex: 0 0 ".concat(this.options.widthSlide,"%")}catch(t){e.e(t)}finally{e.f()}this.options.maxPosition!==this.slidesToShow&&(this.options.position=0,this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"))}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}},{key:"prevSlider",value:function(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"),this.checkArrow())}},{key:"nextSlider",value:function(){console.log(1),(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"),this.checkArrow())}},{key:"checkArrow",value:function(){0===this.options.position?this.main.classList.add("disablet-left"):this.main.classList.remove("disablet-left"),this.options.position===this.options.maxPosition?this.main.classList.add("disablet-right"):this.main.classList.remove("disablet-right")}},{key:"addArrow",value:function(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.buttonVueSecond?(this.prev.innerHTML='<svg width="12" height="16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M11 1L1 8l10 7" stroke="#322823" stroke-width=".3" stroke-linecap="round" stroke-linejoin="round"></path>\n        </svg>',this.next.innerHTML='<svg width="12" height="16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M1 1l10 7-10 7" stroke="#322823" stroke-width=".3" stroke-linecap="round" stroke-linejoin="round"></path>\n        </svg>',this.prev.className="nav-arrow nav-arrow_left desktop-hide",this.next.className="nav-arrow nav-arrow_right desktop-hide"):(this.prev.innerHTML='<svg width="17" height="12" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 12" preserveAspectRatio="xMinYMin meet">\n            <path d="M.97 5.47a.75.75 0 0 0 0 1.06l4.773 4.773a.75.75 0 1 0 1.06-1.06L2.561 6l4.242-4.243a.75.75 0 0 0-1.06-1.06L.97 5.47zm16.53-.22h-16v1.5h16v-1.5z" fill="#322823"></path>\n        </svg>',this.next.innerHTML='<svg width="17" height="12" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 12" preserveAspectRatio="xMinYMin meet">\n            <path d="M16.03 5.47a.75.75 0 0 1 0 1.06l-4.773 4.773a.75.75 0 0 1-1.06-1.06L14.439 6l-4.242-4.243a.75.75 0 1 1 1.06-1.06L16.03 5.47zM.5 5.25h15v1.5H.5v-1.5z" fill="#322823"></path>\n        </svg>',this.prev.className="slider-arrow slider-arrow_left",this.next.className="slider-arrow slider-arrow_right"),this.main.appendChild(this.prev),this.main.appendChild(this.next)}},{key:"responseInit",value:function(){var t,e=this,n=this.slidesToShow,o=this.responsive.map((function(t){return t.breakpoint})),i=Math.max.apply(Math,function(t){if(Array.isArray(t))return l(t)}(t=o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=function(){var t=document.documentElement.clientWidth;if(t<i)for(var r=0;r<o.length;r++)t<o[r]&&(e.slidesToShow=e.responsive[r].slidesToShow,e.options.widthSlide=Math.floor(100/e.slidesToShow),e.options.maxPosition=e.slides.length-e.slidesToShow,e.addStyle());else e.slidesToShow=n,e.options.widthSlide=Math.floor(100/e.slidesToShow),e.options.maxPosition=e.slides.length-e.slidesToShow,e.addStyle();e.checkArrow()};r(),window.addEventListener("resize",r,!0)}}])&&c(e.prototype,n),t}();var p,u,h,v,f,w,m,y,g,b,S,k,_;S=document.querySelector(".popup-repair-types").querySelector(".nav-list-popup-repair"),k=document.querySelector(".popup-repair-types-content-table"),_=1,fetch("../crm-backend/db.json").then((function(t){return t.json()})).then((function(t){!function(t){var e=t.reduce((function(t,e){return(t[e.type]=t[e.type]||[]).push(e),t}),{});for(var n in e)Object.hasOwnProperty.call(e,n)&&function(){var t=e[n],o=document.createElement("div");o.innerHTML='\n\t\t\t\t\t\t\t\t<button class="button_o popup-repair-types-nav__item '.concat(1===_?"active":"",'" data-tab="tab').concat(_,'">').concat(n,"</button>\n                    "),S.append(o);var i=document.createElement("table");i.classList.add("popup-repair-types-content-table__list"),1===_&&i.classList.add("active"),i.dataset.tab="tab".concat(_),t.forEach((function(t){var e=document.createElement("tr");e.classList.add("mobile-row"),e.innerHTML='\n                            <td class="repair-types-name">'.concat(t.name,'</td>\n                            <td class="mobile-col-title tablet-hide desktop-hide">Ед.измерения</td>\n                            <td class="mobile-col-title tablet-hide desktop-hide">Цена за ед.</td>\n                            <td class="repair-types-value">').concat(t.units,'</td>\n                            <td class="repair-types-value">').concat(t.cost,"</td>\n                        "),i.append(e)})),k.appendChild(i)}(),_++}(t)})).catch((function(t){return console.warn(t)})),(b=document.querySelector(".header-contacts")).addEventListener("click",(function(t){t.target.closest(".header-contacts__arrow")&&b.classList.toggle("active")})),y=document.querySelector(".popup-menu"),g=function(){void 0!==y&&null!=y&&y.classList.toggle("active-menu")},document.addEventListener("click",(function(t){var e=t.target;e.closest(".menu")&&g(),e.closest(".popup-menu.active-menu")&&e.matches("a")&&g(),!y.classList.contains("active-menu")||e.closest(".menu")||e.matches("menu")||e.matches("li")||g()})),m=function(t){if(!t.getAttribute("href")){var e=t.getElementsByTagName("a")[0];t=e}if(void 0!==t&&null!=t&&""!=t.getAttribute("href")&&"#"!=t.getAttribute("href")){var n=t.getAttribute("href").slice(1),o=document.getElementById(n).offsetTop;window.scrollTo({top:o,behavior:"smooth"})}},document.addEventListener("click",(function(t){var e=t.target;e.classList.contains("menu-link")&&(t.preventDefault(),m(e)),e.closest(".button-footer")&&(t.preventDefault(),m(e))})),f=document.querySelectorAll(".open-popup"),w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=t.includes("popup-")?t:"popup-".concat(t),n=document.querySelector(".".concat(e));void 0!==n&&null!=n&&n.classList.toggle("active-popup")},f.forEach((function(e){e.addEventListener("click",(function(e){t(e.target.classList).find((function(t){/open-/.test(t)&&"open-popup"!==t&&(v=t.replace("open-",""))})),w(v)}))})),document.addEventListener("click",(function(e){var n=e.target,o=n.closest(".active-popup");v&&(v="popup-".concat(v),void 0!==o&&null!=o&&(v=t(o.classList).filter((function(t){return"popup"!==t&&"active-popup"!==t}))[0]),n.closest(".".concat(v,".active-popup"))&&n.matches(".close")&&w(),n.classList.contains("active-popup")&&w())})),document.getElementsByName("phone").forEach((function(t){t.setAttribute("maxlength",10),t.addEventListener("input",(function(t){t.target.value=t.target.value.replace(/\D/g,"").substring(0,16),t.target.value=t.target.value.replace(/^(\d{3})(\d{3})(\d{2})(\d{2})$/,"+7($1)$2-$3-$4")})),t.addEventListener("keydown",(function(t){8===t.keyCode&&(t.preventDefault(),t.target.value=t.target.value.slice(0,-1))}))})),h=document.querySelectorAll(".tooltip"),window.addEventListener("scroll",(p=function(){h.forEach((function(t){t.getBoundingClientRect().top-t.getBoundingClientRect().height-104<0?t.classList.add("bottom"):t.classList.remove("bottom")}))},u=null,function(){clearTimeout(u),u=setTimeout((function(){p()}),300)})),n(document.getElementById("repair-types")),n(document.querySelector(".popup-repair-types")),document.getElementById("repair-types").querySelectorAll(".sliderFade").forEach((function(t){r(t)}));var L=document.querySelector(".popup-portfolio").querySelector(".sliderFade");r(L,'\n<div class="popup-portfolio-slider-wrap popup-portfolio-slider-wrap-nav">\n<div class="slider-counter" id="popup-portfolio-counter">\n\t\t\t\t\t\t<div class="slider-counter-content">\n\t\t\t\t\t\t\t<div class="slider-counter-content__current">1</div>\n\t\t\t\t\t\t\t<div class="slider-counter-content__total">3</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="popup-arrow popup-arrow_left slider-arrow_left" id="popup_portfolio_left">\n\t\t\t\t\t\t<svg width="32" height="44" fill="none" viewBox="0 0 32 44" preserveAspectRatio="xMinYMin meet"\n\t\t\t\t\t\t\t xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="M30 41.999l-28-20 28-20" stroke="#fff" stroke-opacity=".5" stroke-width="3" stroke-linecap="round"\n\t\t\t\t\t\t\t\t  stroke-linejoin="round"></path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="popup-arrow popup-arrow_right slider-arrow_right" id="popup_portfolio_right">\n\t\t\t\t\t\t<svg width="32" height="44" fill="none" viewBox="0 0 32 44" preserveAspectRatio="xMinYMin meet"\n\t\t\t\t\t\t\t xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="M2 1.999l28 20-28 20" stroke="#fff" stroke-opacity=".5" stroke-width="3" stroke-linecap="round"\n\t\t\t\t\t\t\t\t  stroke-linejoin="round"></path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n                    </div>\n');var x=document.querySelector(".popup-dialog-transparency").querySelector(".sliderFade");r(x,'\n    <div class="slider-counter slider-counter_dark" id="transparency-popup-counter">\n        <div class="slider-counter-content">\n            <div class="slider-counter-content__current"></div>\n            <div class="slider-counter-content__total"></div>\n        </div>\n    </div>\n    <div class="popup-arrow popup-arrow_transparency popup-arrow_transparency_left slider-arrow_left" id="transparency_left">\n        <svg width="18" height="25" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M16.543 23.205L1 12.103 16.543 1.002" stroke="#fff" stroke-opacity=".5" stroke-width="1.665"\n                stroke-linecap="round" stroke-linejoin="round"></path>\n        </svg>\n    </div>\n    <div class="popup-arrow popup-arrow_transparency popup-arrow_transparency_right slider-arrow_right" id="transparency_right">\n        <svg width="18" height="25" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M1.458 1L17 12.102 1.458 23.204" stroke="#fff" stroke-opacity=".5" stroke-width="1.665"\n                stroke-linecap="round" stroke-linejoin="round"></path>\n        </svg>\n    </div>\n');var T=document.querySelector(".portfolio").querySelector(".sliderFade");r(T,'\n<div class="slider-counter slider-counter-responsive desktop-hide" id="portfolio-counter">\n    <div class="slider-counter-content">\n        <div class="slider-counter-content__current">1</div>\n        <div class="slider-counter-content__total">3</div>\n    </div>\n</div>\n<div class="slider-arrow slider-arrow_left slider-arrow-tablet-mobile slider-arrow-tablet-mobile_left tablet-hide desktop-hide"\n     id="portfolio-arrow-mobile_left">\n    <svg width="25" height="34" fill="none" viewBox="0 0 25 34" preserveAspectRatio="xMinYMin meet"\n         xmlns="http://www.w3.org/2000/svg">\n        <path d="M23 32L2 17 23 2" stroke="#fff" stroke-opacity=".5" stroke-width="3" stroke-linecap="round"\n              stroke-linejoin="round"></path>\n    </svg>\n</div>\n<div class="slider-arrow slider-arrow_right slider-arrow-tablet-mobile slider-arrow-tablet-mobile_right tablet-hide desktop-hide"\n     id="portfolio-arrow-mobile_right">\n    <svg width="25" height="34" fill="none" viewBox="0 0 25 34" preserveAspectRatio="xMinYMin meet"\n         xmlns="http://www.w3.org/2000/svg">\n        <path d="M2 2l21 15L2 32" stroke="#fff" stroke-opacity=".5" stroke-width="3" stroke-linecap="round"\n              stroke-linejoin="round"></path>\n    </svg>\n</div>\n'),new d({main:".reviews-slider-wrap",wrap:".reviews-slider",prev:"#reviews-arrow_left",next:"#reviews-arrow_right",slidesToShow:1,infinity:!0}).init(),new d({main:".transparency-slider-wrap",wrap:".transparency-slider",prev:"#transparency-arrow_left",next:"#transparency-arrow_right",slidesToShow:3,infinity:!0,responsive:[{breakpoint:1100,slidesToShow:1}]}).init(),new d({main:".nav-wrap-repair",wrap:".nav-list-repair",buttonVueSecond:!0,slidesToShow:3,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:575,slidesToShow:1}]}).init(),new d({main:".portfolio-slider-wrap",wrap:".portfolio-slider",prev:"#portfolio-arrow_left",next:"#portfolio-arrow_right",slidesToShow:3,infinity:!1,responsive:[{breakpoint:1140,slidesToShow:2},{breakpoint:900,slidesToShow:1}]}).init(),new d({main:".formula-slider-wrap",wrap:".formula-slider",prev:"#formula-arrow_left",next:"#formula-arrow_right",slidesToShow:3,infinity:!0,responsive:[{breakpoint:1025,slidesToShow:3},{breakpoint:900,slidesToShow:1}]}).init(),new d({main:".popup-dialog-repair-types .nav-wrap-repair",wrap:".nav-list-popup-repair",buttonVueSecond:!0,slidesToShow:3,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:2},{breakpoint:768,slidesToShow:1}]}).init(),document.querySelectorAll(".accordion").forEach((function(t){t.addEventListener("click",(function(t){var e=t.target;e.classList.contains("title_block")&&e.closest(".title_block")&&e.classList.toggle("msg-active")}))})),document.querySelectorAll("form").forEach((function(t){var e=t.querySelector('input[type="checkbox"]'),n=t.querySelectorAll('input[type="text"]'),o=function(e){var n=t.querySelector("button");e?n.classList.remove("disabled"):n.classList.add("disabled")};n.forEach((function(t){t.addEventListener("input",(function(t){o(t.target.value)})),o(t.value)})),e.checked||t.querySelector("button").classList.add("disabled"),e.addEventListener("change",(function(t){var e=t.target.closest("form");t.target.checked?e.querySelector("button").classList.remove("disabled"):e.querySelector("button").classList.add("disabled"),n.forEach((function(t){o(t.value)}))})),t.addEventListener("submit",(function(e){e.preventDefault();var n=new FormData(t),o={};n.forEach((function(t,e){o[e]=t})),function(t){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}(o).then((function(e){if(200!==e.status)throw new Error("status network not 200");console.log(e.status),t.reset(),document.querySelector(".thank-link").click()})).catch((function(t){console.error(t)}))}))}))})();